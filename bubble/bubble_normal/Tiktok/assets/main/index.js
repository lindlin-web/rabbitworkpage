System.register("chunks:///_virtual/AppNotify.ts",["cc"],(function(s){var t;return{setters:[function(s){t=s.cclegacy}],execute:function(){t._RF.push({},"edcd4qNR1FL86zVOzbkN3MO","AppNotify",void 0);var n=s("AppNotify",(function(){}));n.INSERTBUBBLEDONE="INSERTBUBBLEDONE",n.DELETEBUBBLEDONE="DELETEBUBBLEDONE",n.DROPBUBBLEDONE="DROPBUBBLEDONE",s("NotifyMgrCls",function(){function s(){this.subject=[],this.subscribes=[]}s.getInstance=function(){return null==s.instance&&(s.instance=new s),s.instance};var t=s.prototype;return t.send=function(s,t,n,i,e){var u=this;void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===e&&(e=null),setTimeout((function(){for(var c=u.subject.indexOf(s),r=u.subscribes[c],o=0;o<r.length;o++){var f=r[o];f&&f(t,n,i,e)}}),1)},t.observe=function(s,t){this.subject.indexOf(s);if(-1){this.subject.push(s);var n=[];n.push(t),this.subscribes.push(n)}else{this.subscribes[-1].push(t)}},t.off=function(s,t){var n=this.subject.indexOf(s);if(-1!=n)for(var i=this.subscribes[n],e=i.length-1;e>0;e--){i[e].call==t.call&&i.splice(e,1)}},s}()).instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/AStar.ts",["cc","./GroupMgr.ts","./Util.ts"],(function(t){var i,s,h;return{setters:[function(t){i=t.cclegacy},function(t){s=t.SEARCHDIRECTION},function(t){h=t.Util}],execute:function(){i._RF.push({},"8d9a3fNtERE/bOHzJfMDpyQ","AStar",void 0);t("AStar",function(){function t(){this._open=void 0,this._closed=void 0,this._grid=void 0,this._endNode=void 0,this._startNode=void 0,this._path=void 0,this._heuristic=this.diagonal,this._straightCost=1,this._diagCost=Math.SQRT2}var i=t.prototype;return i.findPath=function(t){return this._grid=t,this._open=[],this._closed=[],this._startNode=this._grid.getStartNode(),this._endNode=this._grid.getEndNode(),this._startNode.g=0,this._startNode.h=this._heuristic(this._startNode),this._startNode.f=this._startNode.g+this._startNode.h,this.search()},i.search=function(){for(var t=this._startNode;t!=this._endNode;){Math.max(0,t.x-1),Math.min(this._grid.getNumCols()-1,t.x+1),Math.max(0,t.y-1),Math.min(this._grid.getNumRows()-1,t.y+1);for(var i=0;i<=s.RIGHT;i++){var e=h.getColumnAndRowByDirection(t.x,t.y,i),o=this._grid.getNode(e.x,e.y);if(o&&o!=t&&o.walkable){var n=this._straightCost;t.x!=o.x&&t.y!=o.y&&(n=this._diagCost);var r=t.g+n,a=this._heuristic(o),d=r+a;this.isOpen(o)||this.isClosed(o)?o.f>d&&(o.f=d,o.g=r,o.h=a,o.parent=t):(o.f=d,o.g=r,o.h=a,o.parent=t,this._open.push(o))}}if(this._closed.push(t),0==this._open.length)return console.log("==========no path found============="),!1;this._open.sort((function(t,i){return t.f-i.f})),t=this._open.shift()}return this.buildPath(),!0},i.buildPath=function(){this._path=[];var t=this._endNode;for(this._path.push(t);t!=this._startNode;)t=t.parent,this._path.unshift(t)},i.getPath=function(){return this._path},i.isOpen=function(t){for(var i=0;i<this._open.length;i++)if(this._open[i]==t)return!0;return!1},i.isClosed=function(t){for(var i=0;i<this._closed.length;i++)if(this._closed[i]==t)return!0;return!1},i.diagonal=function(t){var i=Math.abs(t.x-this._endNode.x),s=Math.abs(t.y-this._endNode.y),h=Math.min(i,s),e=i+s;return this._diagCost*h+this._straightCost*(e-2*h)},i.getVisited=function(){return this._closed.concat(this._open)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MyAudioCpt.ts"],(function(e){var i,t,r,l,n,o,a,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,a=e.Component},function(e){u=e.MyAudioCpt}],execute:function(){var p,c,s,y,f,b,g,d,m,h,M,B,v,A;n._RF.push({},"d5af9JQGe1E0of+lkAufqD4","AudioMgr",void 0);var z=o.ccclass,P=o.property;e("AudioMgr",(p=z("AudioMgr"),c=P(u),s=P(u),y=P(u),f=P(u),b=P(u),p(((A=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i=e.call.apply(e,[this].concat(n))||this,r(i,"BGM",m,l(i)),r(i,"pile",h,l(i)),r(i,"pos",M,l(i)),r(i,"delet",B,l(i)),r(i,"pile2",v,l(i)),i.bPlayBgm=!1,i}t(i,e);var n=i.prototype;return n.start=function(){i.Instance=this},n.update=function(e){},n.PlayBgm=function(){0==this.bPlayBgm&&(console.log("PlayBgm"),this.bPlayBgm=!0,u.mute=!1,this.BGM.play(),this.BGM.setLoop(!0))},i}(a)).Instance=void 0,m=i((d=A).prototype,"BGM",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=i(d.prototype,"pile",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(d.prototype,"pos",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(d.prototype,"delet",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(d.prototype,"pile2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=d))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/BallNode.ts",["cc","./GroupMgr.ts"],(function(t){var o,n;return{setters:[function(t){o=t.cclegacy},function(t){n=t.SEARCHDIRECTION}],execute:function(){o._RF.push({},"d5fe0vJWLxK5LkMW/Qh7ar4","BallNode",void 0);t("BallNode",function(){function t(){this.row=0,this.column=0,this.color=-1,this.group=-1,this.searchDirection=n.UPRIGHT}var o=t.prototype;return o.init=function(t,o,n){this.column=t,this.row=o,this.color=n},o.setSearchDirection=function(t){this.searchDirection=t},o.getSearchDirection=function(){return this.searchDirection},o.setGroup=function(t){this.group=t},o.getGroup=function(){return this.group},o.isInGroup=function(){return-1!=this.group},o.clone=function(){var o=new t;return o.setRow(this.getRow()),o.setColumn(this.getColumn()),o.setColor(this.getColor()),o},o.getRow=function(){return this.row},o.setRow=function(t){this.row=t},o.getColumn=function(){return this.column},o.setColumn=function(t){this.column=t},o.getColor=function(){return this.color},o.setColor=function(t){this.color=t},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/CameraScreenAdaptation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,a,o,c,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.UITransform,l=t.Camera,u=t.Component}],execute:function(){var p,s,f,m,b,d,h,y,g;a._RF.push({},"c02edWxzwpP+6oxwT8IQFqG","CameraScreenAdaptation",void 0);var v=o.ccclass,S=o.property;t("CameraScreenAdaptation",(p=v("CameraScreenAdaptation"),s=S(c),p((b=e((m=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"RootTra",b,n(e)),i(e,"Start",d,n(e)),i(e,"End",h,n(e)),i(e,"Begin",y,n(e)),i(e,"sc",g,n(e)),e.cam=void 0,e}r(e,t);var a=e.prototype;return a.start=function(){this.cam=this.node.getComponent(l)},a.update=function(t){var e=this.Begin+this.sc*(this.RootTra.contentSize.y-this.Start)/(this.End-this.Start);this.cam.fov=e},e}(u)).prototype,"RootTra",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(m.prototype,"Start",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 640}}),h=e(m.prototype,"End",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2560}}),y=e(m.prototype,"Begin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),g=e(m.prototype,"sc",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=m))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Debug.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,o,t,i;return{setters:[function(n){e=n.createForOfIteratorHelperLoose},function(n){o=n.cclegacy,t=n.DebugMode,i=n.game}],execute:function(){o._RF.push({},"aea3aYSS39LCq17UM/vwRQq","Debug",void 0);var r=n("default",function(){function n(){}return n.initial=function(o){var r=null==o?t.INFO:o;i.config.debugMode=r;for(var c,u=e(n.FUNC_MAP);!(c=u()).done;){var l=c.value,a=l[0],s=l[1],f=null;f=s.level>=r&&s.func&&r!=t.NONE?s.func.bind(console,s.tag):n.empty.bind(n),n[a]=console[a]=f}},n.empty=function(){},n.log=function(){},n.info=function(){},n.warn=function(){},n.error=function(){},n}());r.FUNC_MAP=void 0;var c=function(n,e,o){this.func=void 0,this.level=void 0,this.tag=void 0,this.func=n,this.level=e,this.tag=o};r.FUNC_MAP=new Map([["log",new c(console.log,t.VERBOSE,"[LOG]")],["info",new c(console.info,t.INFO,"[INFO]")],["warn",new c(console.warn,t.WARN,"[WARN]")],["error",new c(console.error,t.ERROR,"[ERROR]")],["assert",new c(console.assert,t.VERBOSE,"[ASSERT]")]]),o._RF.pop()}}}));

System.register("chunks:///_virtual/Dictionary.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,s,i;return{setters:[function(t){e=t.inheritsLoose,s=t.wrapNativeSuper},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"d950dNO+GRB9YRup59opyb+","Dictionary",void 0);t("default",function(t){function s(){var e;return(e=t.call(this)||this)._keys=[],e._values=[],e.add=function(t,e){this.containsKey(t)?this._values[this._keys.indexOf(t)]=e:(this._keys.push(t),this._values.push(e))},e.remove=function(t){var e=this._keys.indexOf(t,0);this._keys.splice(e,1),this._values.splice(e,1)},e.get=function(t){return this.containsKey(t)?this._values[this._keys.indexOf(t)]:null},e.set=function(t,e){this.containsKey(t)?this._values[this._keys.indexOf(t)]=e:(this._keys.push(t),this._values.push(e))},e.keys=function(){return this._keys},e.values=function(){return this._values},e.containsKey=function(t){return-1!=this._keys.indexOf(t)},e.containsValue=function(t){return-1!=this._values.indexOf(t)},e.count=function(){return this._keys.length},e.clear=function(){this._keys.splice(0),this._values.splice(0)},e.forEach=function(t){this.foreach(t)},e.foreach=function(t){this._breaking=!1;for(var e=this._keys.length,s=0;s<e&&!this._breaking;s++)t(this._keys[s],this._values[s])},e._breaking=!1,e.break=function(){this._breaking=!0},e.toObject=function(){var t=new Object;return this.forEach((function(e,s){t[e]=s})),t},e}return e(s,t),s}(s(Object)));i._RF.pop()}}}));

System.register("chunks:///_virtual/DropingNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts"],(function(i){var t,n,o,e,s,r,p;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,o=i._decorator,e=i.v3,s=i.v2,r=i.Component},function(i){p=i.AudioMgr}],execute:function(){var u;n._RF.push({},"aa666cGqepMNLZLxyyZMjYO","DropingNode",void 0);var a=o.ccclass;o.property,i("DropingNode",a("DropingNode")(u=function(i){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=i.call.apply(i,[this].concat(o))||this).wight=.25,t.speed=s(0,0),t.usedTime=0,t.isDoDroping=!1,t.initPositing=e(0,0,0),t}t(n,i);var o=n.prototype;return o.start=function(){var i=this.node.getPosition();this.initPositing=e(i.x,i.y,i.z)},o.doDroping=function(){var i=50*Math.random()-25,t=10*Math.random()-10;this.speed=s(i,t),this.isDoDroping=!0,p.Instance.delet.play()},o.update=function(i){if(this.isDoDroping){this.usedTime+=i;var t=this.initPositing.x+this.speed.x*this.usedTime,n=this.initPositing.z+this.speed.y*this.usedTime+44.1*this.usedTime*this.usedTime;this.node.position=e(t,this.initPositing.y,n)}},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/EventDef.ts",["cc"],(function(e){var t,c;return{setters:[function(e){t=e.cclegacy,c=e._decorator}],execute:function(){t._RF.push({},"4fe15hQ7k9BDrZ1IKIoI4FR","EventDef",void 0);c.ccclass,c.property,e("EventDef",(function(){}));t._RF.pop()}}}));

System.register("chunks:///_virtual/EventSystem.ts",["cc"],(function(t){var i,n;return{setters:[function(t){i=t.cclegacy,n=t._decorator}],execute:function(){i._RF.push({},"9c74ceUUFJNlajcA0fTbikp","EventSystem",void 0);n.ccclass,n.property,t("EventSystemPack",(function(t,i){this.thisPoint=void 0,this.handle=void 0,this.thisPoint=t,this.handle=i}));t("EventSystem",function(){function t(){this.dicEv={}}t.Instance=function(){return null==t.ins&&(t.ins=new t),t.ins};var i=t.prototype;return i.has=function(t){return this.dicEv.hasOwnProperty(t)},i.RegistEvent=function(t,i){this.has(t)?-1==this.dicEv[t].indexOf(i)&&this.dicEv[t].push(i):(this.dicEv[t]=new Array,this.dicEv[t].push(i))},i.UnRegistEvent=function(t,i){if(this.has(t)){var n=this.dicEv[t].indexOf(i);-1!=n&&this.dicEv[t].splice(n,1)}},i.BroadCast=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];this.has(t)&&this.dicEv[t].forEach((function(t){null==t.thisPoint?t.handle.apply(t,n):t.handle.apply(t,[t.thisPoint].concat(n))}))},t}()).ins=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/FSM.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dictionary.ts"],(function(t){var e,n,r,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,i=t.Component},function(t){a=t.default}],execute:function(){var o;n._RF.push({},"0e541gjgbpCW4w7SUkU5VYx","FSM",void 0);var s=r.ccclass;r.property,t("State",function(){function t(){this.Fsm=void 0}return t.prototype.Enter=function(t){this.Fsm=t},t}()),t("FSM",s("FSM")(o=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).StateMap=new a,e.Current=void 0,e}e(n,t);var r=n.prototype;return r.update=function(t){this.Current&&this.Current.Update(t)},r.AddState=function(t,e){this.StateMap.containsKey(t)?this.StateMap.set(t,e):this.StateMap.add(t,e)},r.DelState=function(t){this.StateMap.containsKey(t)&&this.StateMap.remove(t)},r.ChangeState=function(t){this.StateMap.containsKey(t)&&(this.Current&&this.Current.Exit(),this.Current=this.StateMap.get(t),this.Current.Enter(this))},n}(i))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/FullScreenCpt.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,o,c,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,o=t.UITransform,c=t.screen,i=t.Size,s=t.Component}],execute:function(){var u;n._RF.push({},"2e586rIbepLzbwIm+9TWtDd","FullScreenCpt",void 0);var l=r.ccclass;r.property,t("FullScreenCpt",l("FullScreenCpt")(u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).tsf=void 0,e}e(n,t);var r=n.prototype;return r.start=function(){this.tsf=this.getComponent(o)},r.update=function(t){var e=c.windowSize.x,n=c.windowSize.y;if(e/n>16/9){var r=e/(n/9*16);r=r<1?1:r,this.tsf.contentSize=new i(1280*r,720)}else{var o=n/(e/16*9);o=o<1?1:o,this.tsf.contentSize=new i(1280,720*o)}},n}(s))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MyAudioCpt.ts"],(function(o){var e,n,t,l,a,r;return{setters:[function(o){e=o.inheritsLoose},function(o){n=o.cclegacy,t=o._decorator,l=o.game,a=o.Component},function(o){r=o.MyAudioCpt}],execute:function(){var i,s;n._RF.push({},"140ca6zqcNBz4BaXupMr7Ww","GameControl",void 0);var u=t.ccclass;t.property,o("GameControl",u("GameControl")(((s=function(o){function n(){return o.apply(this,arguments)||this}e(n,o);var t=n.prototype;return t.onLoad=function(){window.GameControl=this,console.log("===========hello world===========GameControl init()=============")},t.start=function(){var o=window.LoadCompleteFun;null!=o&&o()},t.GetDownloadUrl=function(){var o=navigator.userAgent||navigator.vendor,e="https://apps.apple.com/us/app/hexa-sort/id6463127238";return/android/i.test(o)&&(e="https://play.google.com/store/apps/details?id=com.gamebrain.hexasort&hl=en_US&gl=US"),console.log("Url:"+e),e},t.Pause=function(){console.log("Game Pause"),l.pause(),n.firstLoading=!1},t.Resume=function(){console.log("Game Resume"),l.resume(),1==n.firstLoading&&(n.firstLoading=!1,l.restart())},t.AudioPause=function(){console.log("Game AudioPause"),r.mute=!0},t.AudioResume=function(){console.log("Game AudioResume"),r.mute=!1},n.DownloadClick=function(){console.log("===========hello world===========GameControl GetDownloadUrl()=============DownloadClick");var o=window.GameFinish;null!=o&&(console.log("===========hello world===========GameControl GetDownloadUrl()=============11111111111111111111111111111111"),o());var e=window.ClickDownLoad;null!=e&&(console.log("===========hello world===========GameControl GetDownloadUrl()=============22222222222222222222222222"),e())},n}(a)).firstLoading=!0,i=s))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc","./Util.ts","./BallNode.ts","./GroupMgr.ts","./AppNotify.ts","./Grid.ts","./AStar.ts"],(function(t){var e,o,r,n,i,l,s,a,h,u,g;return{setters:[function(t){e=t.cclegacy,o=t.color,r=t.v2,n=t.v3},function(t){i=t.Util},function(t){l=t.BallNode},function(t){s=t.GroupMgr},function(t){a=t.NotifyMgrCls,h=t.AppNotify},function(t){u=t.Grid},function(t){g=t.AStar}],execute:function(){e._RF.push({},"2cf4f09Sm1EVJf+nGPkjr6x","GameData",void 0);t("BALLCOLOR",function(t){return t[t.NONE=-1]="NONE",t[t.BLUE=1]="BLUE",t[t.PINK=2]="PINK",t[t.YELLOW=3]="YELLOW",t}({}));var c=[o(0,0,0,0),o(0,82,255,100),o(255,0,255,100),o(233,178,0,100)],f=t("INITX",-25.5),d=t("INITZ",13.7),p=t("PERX",1.966),v=t("PERZ",1.6),N=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,3,1,3,3,1,1,2,1,3,1,1,1,3,3,3,3,1,3,3,1,1,2,1,3,1,3,3,1,1,2,1,3,3,3,1,3,3,1,1,2,1,3,1,1,3,1,3,3,3,1],[-1,2,3,3,2,3,3,3,-1,3,2,-1,3,3,3,3,2,3,3,2,3,3,3,-1,3,2,3,2,3,3,3,-1,3,2,2,3,3,2,3,3,3,-1,3,2,-1,-1,3,3,2,3,3,3],[-1,2,3,2,2,3,2,2,1,2,2,-1,2,2,3,3,2,3,2,2,3,2,2,1,2,2,2,2,3,2,2,1,2,2,2,3,2,2,3,2,2,1,2,2,-1,-1,3,2,2,3,3,2],[1,2,-1,3,2,-1,3,3,2,3,2,1,3,3,-1,-1,2,-1,3,2,-1,3,3,2,3,2,3,2,-1,3,3,2,3,2,2,-1,3,2,-1,3,3,2,3,2,-1,-1,-1,3,2,-1,-1,3],[1,1,-1,-1,1,-1,-1,-1,3,-1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,-1,-1,3,-1,1,-1,1,-1,-1,-1,3,-1,1,1,-1,-1,1,-1,-1,-1,3,-1,1,-1,-1,-1,-1,1,-1,-1,-1],[1,1,3,1,1,3,1,1,1,1,1,1,1,1,3,3,1,3,1,1,3,1,1,1,1,1,1,1,3,1,1,1,1,1,1,3,1,1,3,1,1,1,1,2,-1,-1,3,1,1,3,3,1],[1,3,3,1,3,3,1,1,2,1,3,1,1,1,3,3,3,3,1,3,3,1,1,2,1,3,1,3,3,1,1,2,1,3,3,3,1,3,3,1,1,2,1,3,1,1,3,1,3,3,3,1],[1,2,-1,1,2,-1,1,1,3,1,2,1,1,1,-1,-1,2,-1,1,2,-1,1,1,3,1,2,1,2,-1,1,1,3,1,2,2,-1,1,2,-1,1,1,3,1,2,1,1,-1,1,2,-1,-1,1],[1,2,-1,-1,2,-1,-1,-1,-1,-1,2,1,-1,-1,-1,-1,2,-1,-1,2,-1,-1,-1,-1,-1,2,-1,2,-1,-1,-1,-1,-1,2,2,-1,-1,2,-1,-1,-1,-1,-1,2,-1,-1,-1,-1,2,-1,-1,-1],[1,1,3,3,1,3,3,3,3,3,1,1,3,3,3,3,1,3,3,1,3,3,3,3,3,1,3,1,3,3,3,3,3,1,1,3,3,1,3,3,3,3,3,1,-1,-1,3,3,1,3,3,3],[-1,1,3,1,1,3,1,1,1,1,1,-1,2,2,3,3,1,3,1,1,3,1,1,1,1,1,1,1,3,1,1,1,1,1,1,3,1,1,3,1,1,1,1,1,-1,-1,3,1,1,3,3,1],[-1,1,-1,3,1,-1,3,3,3,3,1,-1,2,2,-1,-1,1,-1,3,1,-1,3,3,3,3,1,3,1,-1,3,3,3,3,1,1,-1,3,1,-1,3,3,3,3,1,-1,-1,-1,3,1,-1,-1,3],[1,1,3,3,1,3,3,3,3,3,1,1,3,3,3,3,1,3,3,1,3,3,3,3,3,1,3,1,3,3,3,3,3,1,1,3,3,1,3,3,3,3,3,1,-1,-1,3,3,1,3,3,3],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]],G=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,2,3,3,3,3,1,3,3,1,1,1,3,3],[-1,-1,-1,1,-1,2,3,3,2,3,3,3,-1,2,3],[-1,-1,-1,2,-1,2,3,2,2,3,2,2,-1,2,3],[-1,-1,2,3,-1,2,-1,3,2,-1,3,3,1,2,-1],[-1,-1,2,1,-1,1,-1,-1,1,-1,-1,-1,1,1,-1],[-1,-1,2,2,3,1,3,1,1,3,1,1,1,1,3],[-1,-1,2,3,3,3,3,1,3,3,1,1,1,3,3],[-1,-1,-1,1,-1,2,-1,1,2,-1,1,1,1,2,-1],[-1,-1,-1,3,-1,2,-1,-1,2,-1,-1,-1,1,2,-1],[-1,-1,-1,1,-1,1,3,3,1,3,3,3,1,1,3],[-1,-1,-1,1,-1,1,3,1,1,3,1,1,-1,1,3],[-1,-1,-1,1,-1,1,-1,3,1,-1,3,3,-1,1,-1],[-1,-1,-1,1,-1,1,3,3,1,3,3,3,1,1,3],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]];t("GameData",function(){function t(){this.ballNodes=[],this.groupMgr=void 0,this.columns=0,this.rows=0,this.fireNodeColor=void 0,this.backNodeColor=void 0,this.zeroPosition=n(f,.1,d),this.preDeleteGroup=-1,this._grid=void 0,this.devideGroup()}var e=t.prototype;return e.createAFireNode=function(){Math.ceil(3*Math.random());return 2,this.fireNodeColor=2,2},e.getFireValue=function(){return this.fireNodeColor},e.getBackValue=function(){return this.backNodeColor},e.getFireColor=function(){var t=this.fireNodeColor;return t<0&&(t=0),c[t]},e.createABackNode=function(){var t=Math.ceil(3*Math.random());return this.backNodeColor=t,t},e.devideGroup=function(){this.groupMgr=new s,this.ballNodes=[],this.columns=G.length;for(var t=0;t<G.length;t++){var e=G[t];this.rows<=e.length&&(this.rows=e.length)}for(var o=0;o<this.columns;o++)for(var r=G[o],n=0;n<this.rows;n++){var i=r[n];null==i&&(i=-1),i>=0&&console.log("====hello");var a=new l;a.init(o,n,i),this.ballNodes.push(a)}this.groupMgr.devideGroup(G,this.ballNodes,this.columns,this.rows)},e.getIsGroup=function(t,e){return i.plainSearchBallNode(t,e,this.ballNodes).isInGroup()},e.getGroupNum=function(t,e){return this.getIsGroup(t,e)?i.plainSearchBallNode(t,e,this.ballNodes).getGroup():-1},e.howManyGoupMember=function(t){for(var e=0,o=0;o<this.ballNodes.length;o++){this.ballNodes[o].getGroup()==t&&e++}return e},e.getValueByColumnAndRow=function(t,e){if(!G[t])return console.log("hehhh"),-1;var o=G[t][e];return null==o?-1:o},e.needDropGroup=function(t){for(var e=[],o=0;o<t.length;o++)for(var n=t[o],i=0;i<this.ballNodes.length;i++){var l=this.ballNodes[i];if(l.getGroup()==n){var s=r(l.getColumn(),l.getRow());e.push(s)}}console.log("=====================before drop=================="),this.getInitData();for(var u=0;u<e.length;u++){var g=e[u],c=Math.floor(g.x),f=Math.floor(g.y);G[c][f]=-1}console.log("====================after drop========================"),this.getInitData(),a.getInstance().send(h.DROPBUBBLEDONE,e),this.checkHowManyRowHaveDeleted()},e.needDeleteGroup=function(t){this.preDeleteGroup=t;var e=[];console.log("========before delete group ========================"),this.getInitData();for(var o=0;o<this.ballNodes.length;o++){var n=this.ballNodes[o];if(n.getGroup()==t){var i=r(n.getColumn(),n.getRow());e.push(i)}}for(var l=0;l<e.length;l++){var s=e[l];G[s.x][s.y]=-1}console.log("============after delete group ===================="),this.getInitData(),console.log("======================delteGroup value ===",e),a.getInstance().send(h.DELETEBUBBLEDONE,e)},e.getPositionByColumnAndRow=function(t,e,o){var r=1;return(e+=o)%2==0&&(r=0),n(this.zeroPosition.x+t*p+r,.1,this.zeroPosition.z-e*v)},e.getSupport=function(){return N},e.checkTheDropThing=function(){this._grid=new u(G.length,G[0].length,G);for(var t=this.groupMgr.getGroupValues(),e=[],o=0;o<t.length;o++){var r=t[o];if(r!=this.preDeleteGroup){for(var n=!1,i=0;i<this.ballNodes.length;i++){var l=this.ballNodes[i];if(l.getGroup()==r){for(var s=0;s<G.length;s++){if(-1!=G[s][G[s].length-1])if(this._grid.setStartNode(l.getColumn(),l.getRow()),this._grid.setEndNode(s,G[s].length-1),n=(new g).findPath(this._grid))break}break}}n?console.log(" 这个组不能被删除 "):e.push(r)}}var a=!0;return e&&e.length&&(a=!1,this.needDropGroup(e)),a},e.checkToSupport=function(){var t=this.checkHowManyRowHaveDeleted(),e=0;if((t-=2)>0){console.log("============before support============"),this.getInitData();for(var o=0;o<t&&o<N[0].length;o++){for(var n=0;n<N.length;n++){var i=N[n][o];G[n].push(i)}e++}console.log("===============after support ============"),this.getInitData(),console.log("====================before shift=============="),this.getInitData();for(var l=0;l<e;l++)for(var s=0;s<G.length;s++)G[s].shift();return console.log("===================after shift================="),this.getInitData(),r(t,e)}return r(0,0)},e.deleteTheSupportByRow=function(t){for(var e=0;e<t;e++)for(var o=0;o<N.length;o++)N[o].shift()},e.insertAFiringNode=function(t,e){console.log("==========================insert begin==========================="),this.getInitData(),console.log("====inert column="+t+", row="+e+", value=",this.fireNodeColor),G[t][e]=this.fireNodeColor,this.getInitData(),console.log("==========================insert end==========================="),a.getInstance().send(h.INSERTBUBBLEDONE,t,e)},e.getGroupVals=function(){return this.groupMgr.getGroupValues()},e.getInitData=function(){for(var t="",e=0;e<G.length;e++){for(var o=0;o<G[0].length;o++)G[e][o]>0?t+=" "+G[e][o]+",":t+=G[e][o]+",";t+="\n"}return console.log(t),G},e.changeTheCircle=function(){this.fireNodeColor=this.backNodeColor,this.createABackNode()},e.checkHowManyRowHaveDeleted=function(){for(var t=0,e=0;e<G[0].length;e++){for(var o=!0,r=0;r<G.length;r++){if(-1!=G[r][e]){o=!1;break}}o&&t++}return t},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GameMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Grid.ts","./AStar.ts","./GameData.ts"],(function(t){var e,i,r,a,n,o,s,h,d,u,g,f,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.Prefab,h=t.Node,d=t.instantiate,u=t.v3,g=t.Component},function(t){f=t.Grid},function(t){l=t.AStar},function(t){p=t.GameData}],execute:function(){var c,v,m,b,P,_,G,y,D;n._RF.push({},"8b7abxrxhdFnIIIN4sTFoBO","GameMain",void 0);var w=o.ccclass,N=o.property;t("GameMain",(c=w("GameMain"),v=N({type:[s]}),m=N({type:[s]}),b=N({type:h}),c((G=e((_=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._grid=void 0,r(e,"prefabs",G,a(e)),r(e,"groupsPre",y,a(e)),r(e,"father",D,a(e)),e.nodes=[],e.gameData=void 0,e}i(e,t);var n=e.prototype;return n.start=function(){this.gameData=new p;for(var t=this.gameData.getInitData(),e=t.length,i=0,r=0;r<e;r++){var a=t[r].length;a>i&&(i=a)}this._grid=new f(e,i,t),this._grid.setStartNode(0,1),this._grid.setEndNode(0,8),this.drawGrid(),this.findPath()},n.reDraw=function(){this.father.removeAllChildren(),this.nodes=[],this.gameData.devideGroup();for(var t=this.gameData.getInitData(),e=t.length,i=0,r=0;r<e;r++){var a=t[r].length;a>i&&(i=a)}this._grid=new f(e,i,t),this._grid.setStartNode(0,1),this._grid.setEndNode(0,8),this.drawGrid(),this.findPath(),this.getGroup()},n.drawGrid=function(){for(var t=0;t<this._grid.getNumCols();t++){this.nodes[t]=[];for(var e=0;e<this._grid.getNumRows();e++){var i=this._grid.getNode(t,e).value,r=this.prefabs[0];if(1==i?r=this.prefabs[1]:2==i?r=this.prefabs[2]:3==i&&(r=this.prefabs[3]),-1!=i){var a=d(r);this.father.addChild(a),this.nodes[t][e]=a;var n=15;e%2==0&&(n=0);var o=u(30*t-140+n,30*e,0);a.setPosition(o)}}}},n.findPath=function(){var t=new l;if(t.findPath(this._grid))for(var e=t.getPath(),i=0;i<e.length;i++){var r=e[i],a=r.x,n=r.y,o=this.nodes[a][n],s=o.getPosition();o.removeFromParent();var h=d(this.groupsPre[0]);this.father.addChild(h),h.setPosition(s)}},n.update=function(t){},n.getGroup=function(){for(var t=0;t<this._grid.getNumCols();t++)for(var e=0;e<this._grid.getNumRows();e++){if(this.gameData.getIsGroup(t,e)){var i=this.gameData.getGroupNum(t,e),r=this.groupsPre[i],a=this.nodes[t][e];if(!a){console.log(t,"==",e,"============");continue}var n=a.getPosition(),o=d(r);o.setPosition(n),this.father.addChild(o)}}},e}(g)).prototype,"prefabs",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=e(_.prototype,"groupsPre",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(_.prototype,"father",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameMain3D.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./Grid.ts","./OpacityLind3D.ts","./GroupMgr.ts","./Util.ts","./AppNotify.ts","./GameMain.ts","./DropingNode.ts","./OperateNode.ts","./TailPage.ts","./AudioMgr.ts","./Debug.ts"],(function(t){var e,o,i,n,r,a,s,h,l,d,c,u,g,p,m,f,v,y,D,N,P,C,b,w,B,T,F,R,k,z,A,x,M,L,G,O,S,E,I,V,H;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.color,h=t.Prefab,l=t.Camera,d=t.Node,c=t.Label,u=t.v3,g=t.DebugMode,p=t.NodePool,m=t.screen,f=t.UITransform,v=t.tween,y=t.Mat4,D=t.Vec3,N=t.v2,P=t.v4,C=t.PhysicsSystem,b=t.Widget,w=t.systemEvent,B=t.SystemEventType,T=t.instantiate,F=t.Component},function(t){R=t.GameData,k=t.PERZ},function(t){z=t.Grid},function(t){A=t.OpacityLind3D},function(t){x=t.SEARCHDIRECTION},function(t){M=t.Util},function(t){L=t.NotifyMgrCls,G=t.AppNotify},function(t){O=t.GameMain},function(t){S=t.DropingNode},function(t){E=t.OperateNode},function(t){I=t.TailPage},function(t){V=t.AudioMgr},function(t){H=t.default}],execute:function(){var W,U,_,q,Y,j,X,Z,J,K,Q,$,tt,et,ot,it,nt,rt,at,st,ht,lt,dt,ct,ut,gt,pt,mt,ft,vt,yt,Dt,Nt,Pt;r._RF.push({},"a3320pPpDtFz4Ne9qXLuWOT","GameMain3D",void 0);var Ct=a.ccclass,bt=a.property,wt=.92,Bt=60;s(0,82,255,100),s(255,0,255,100),s(233,178,0,100),t("GameMain3D",(W=Ct("GameMain3D"),U=bt({type:[h]}),_=bt(l),q=bt(h),Y=bt(d),j=bt(d),X=bt(d),Z=bt(c),J=bt(d),K=bt(O),Q=bt(d),$=bt(d),tt=bt(d),et=bt(d),ot=bt(d),it=bt(d),W(((Pt=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._grid=void 0,i(e,"prefabs",at,n(e)),e.gameData=null,e.nodes=[],e.isClickOn=!1,i(e,"mainCamera",st,n(e)),e.convertFirePoint=u(0,.1,18),e.convertFirePoint1=u(0,.1,19),e.convertFirePoint2=u(0,.1,12),i(e,"dotNode",ht,n(e)),e.dotNodePool=null,e.usedDotNodes=[],e.radius=1.05,i(e,"fireNode",lt,n(e)),i(e,"backupNode",dt,n(e)),e.myGap=u(0,0,0),e.firingNode=null,i(e,"mask",ct,n(e)),i(e,"pointValue",ut,n(e)),i(e,"theLogo",gt,n(e)),i(e,"theGameMain",pt,n(e)),i(e,"operator",mt,n(e)),e.theFakeNodes=[],e.canShoot=!0,i(e,"theHand",ft,n(e)),e.isOnGuide=!0,e.initPosition=u(3.633,1.367,15.182),e.needDeleteNum=0,e.currentPoint=0,e.totalPoint=500,e.totalProgress=257,e.perPoint=0,i(e,"head",vt,n(e)),i(e,"button",yt,n(e)),i(e,"circle",Dt,n(e)),i(e,"icon",Nt,n(e)),e}o(e,t);var r=e.prototype;return r.onLoad=function(){var t=this;this.perPoint=this.totalProgress/this.totalPoint,this.scheduleOnce((function(){t.showFinalPage()}),150),H.initial(g.VERBOSE),H.log("hello world"),L.getInstance().observe(G.INSERTBUBBLEDONE,this.onInsertBubbleDone.bind(this)),L.getInstance().observe(G.DELETEBUBBLEDONE,this.onDeleteBubbleDone.bind(this)),L.getInstance().observe(G.DROPBUBBLEDONE,this.onDropBubbleDone.bind(this)),this.dotNodePool=new p,this.gameData=new R;for(var e=this.gameData.getInitData(),o=e.length,i=0,n=0;n<o;n++){var r=e[n].length;r>i&&(i=r)}this._grid=new z(o,i,e),this.drawGrid(),this.fireNode=this.createAFireNode(),this.fireNode.name="FireBoy",this.fireNode.setScale(u(1.3,1.3,1.3)),this.backupNode=this.createABackNode(),this.operator.addChild(this.fireNode),this.operator.addChild(this.backupNode),this.fireNode.setPosition(this.operator.getComponent(E).firePosition),this.backupNode.setPosition(this.operator.getComponent(E).backPosition),this.operator.getComponent(E).setFireNode(this.fireNode),this.operator.getComponent(E).setBackNode(this.backupNode),m.on("window-resize",this.onWindowResize.bind(this),this);var a=m.windowSize;this.onWindowResize(a.width,a.height)},r.doTheProgress=function(t){this.currentPoint+=t,this.currentPoint>=this.totalPoint&&(this.currentPoint=this.totalPoint,this.scheduleOnce((function(){I.Instance.onShowPage()}),1)),this.pointValue.string=this.currentPoint+"/"+this.totalPoint;var e=this.mask.getComponent(f).contentSize.height;this.mask.getComponent(f).setContentSize(this.perPoint*this.currentPoint,e)},r.onDropBubbleDone=function(t){var e=this;this.doTheProgress(t.length),this.printLog(!0);for(var o,i=function(){var o=t[n],i=e.nodes[o.x][o.y];if(e.nodes[o.x][o.y]=null,!i)return{v:void 0};i.getComponent(S).doDroping(),v(i).delay(1).call((function(){i.removeAllChildren(),i.removeFromParent(),i.destroy(),i=null})).start();for(var r=0;r<i.children.length;r++){var a=i.children[r].getComponent(S);a&&a.doDroping()}},n=0;n<t.length;n++)if(o=i())return o.v;this.printLog(!0),this.scheduleOnce((function(){e.checkCanBeSupported()}),1)},r.checkCanBeSupported=function(){var t=this.gameData.checkToSupport();console.log("===================how many support ====",t.y),console.log("====================before front support"),this.printLog(!0);for(var o=0;o<t.y;o++)for(var i=0;i<this.nodes.length;i++){this.nodes[i].shift()}console.log("====================after front support"),this.printLog(!0),e.totalDeleteRow+=t.y,this.doTheSupport(t.y)},r.doTheSupport=function(t){for(var o=this.gameData.getSupport(),i=0;i<t;i++)for(var n=0;n<o.length;n++){var r=o[n][i];if(-1!=r){var a=this.createNodeByValue(r);this.node.addChild(a),this.nodes[n].push(a);var s=this.gameData.getPositionByColumnAndRow(n,this.nodes[n].length-1,e.totalDeleteRow);a.setPosition(s);for(var h=Math.ceil(4*Math.random()),l=0;l<h;l++){var d=this.createNodeByValue(r);d.setRotationFromEuler(u(0,60,0)),a.addChild(d),d.setPosition(0,s.y+.25*l,-.01*l)}}else this.nodes[n][this.nodes[n].length]=null}this.gameData.deleteTheSupportByRow(t),t>0?this.doTheMoving(t):(this.checkIsEqual(),this.canShoot=!0,this.printLog(!1))},r.doTheMoving=function(t){for(var o=this,i=this.gameData.getSupport(),n=this.theFakeNodes.length-1;n>=0;n--){this.theFakeNodes[n].removeFromParent()}this.theFakeNodes=[];for(var r=0;r<i.length;r++){var a=i[r][0];if(null!=a&&-1!=a){var s=this.createNodeByValue(a);-2==a&&(s.active=!1),this.node.addChild(s),this.theFakeNodes.push(s);var h=this.gameData.getPositionByColumnAndRow(r,this.nodes[0].length,e.totalDeleteRow);s.setPosition(h)}}var l=this.node.getPosition(),d=u(l.x,l.y,l.z+k*t);v(this.node).to(.1,{position:u(l.x,l.y,l.z-.2)}).to(.1,{position:u(d.x,d.y,d.z+.2)}).to(.2,{position:d}).call((function(){o.node.setPosition(d);var t=o.node.getWorldMatrix(),e=new y;y.invert(e,t);var i=u(0,0,0);o.operator.getChildByName("FireBoy").getWorldPosition(i),D.transformMat4(o.convertFirePoint,i,e),o.checkIsEqual(),o.canShoot=!0,o.printLog(!1)})).start()},r.deleteDoneCanContinue=function(){(this.needDeleteNum--,this.needDeleteNum<=0)&&(this.printLog(!0),this.checkIsEqual(),this.checkDrop()&&(this.canShoot=!0,this.checkCanBeSupported()))},r.onDeleteBubbleDone=function(t){var e=this;this.doTheProgress(t.length),V.Instance.pile.play(),this.needDeleteNum=t.length,this.printLog(!0);for(var o,i=function(){var o=t[n],i=e.nodes[o.x][o.y];if(!i)return console.log("==========肯定是有错误的"),{v:void 0};for(var r=i.children.length,a=function(t){var n=i.children[t];v(n).delay(.07*(r-t)).to(.07,{scale:new D(0,0,0)}).call((function(){V.Instance.pile2.play(),n.removeFromParent(),n.destroy(),console.log(t,"================j 等于什么"),0==t&&(i.removeFromParent(),i.destroy(),i=null,e.nodes[o.x][o.y]=null,e.deleteDoneCanContinue())})).start()},s=r-1;s>=0;s--)a(s)},n=0;n<t.length;n++)if(o=i())return o.v},r.showFinalPage=function(){I.Instance.onShowPage()},r.onInsertBubbleDone=function(t,o){var i=this;if(o<0)this.showFinalPage();else{var n=this.gameData.getValueByColumnAndRow(t,o),r=this.createNodeByValue(n);this.node.addChild(r),this.printLog(!0),this.nodes[t][o]=r,this.printLog(!0);var a=this.gameData.getPositionByColumnAndRow(t,o,e.totalDeleteRow);r.setPosition(a);var s=this.checkGrid(t,o);this.changeCircle(),s&&this.scheduleOnce((function(){i.canShoot=!0}),.2)}},r.changeCircle=function(){this.gameData.changeTheCircle();var t=this.fireNode;this.fireNode=this.backupNode,this.backupNode=t,this.backupNode.removeFromParent(),this.backupNode.destroy(),this.backupNode=null,this.backupNode=this.doBackNode(),this.operator.addChild(this.backupNode),this.backupNode.setPosition(this.operator.getComponent(E).firePosition),this.backupNode.setScale(u(1.3,1.3,1.3)),this.operator.getComponent(E).setFireNode(this.fireNode),this.operator.getComponent(E).setBackNode(this.backupNode),this.operator.getComponent(E).doCircleThing()},r.checkDrop=function(){return this.gameData.checkTheDropThing()},r.checkGrid=function(t,e){this.gameData.devideGroup();var o=this.gameData.getGroupNum(t,e),i=!0;return this.gameData.howManyGoupMember(o)>1&&(i=!1,this.gameData.needDeleteGroup(o)),i},r.drawGrid=function(){for(var t=0;t<this._grid.getNumCols();t++){this.nodes[t]=[];for(var o=0;o<this._grid.getNumRows();o++){var i=this._grid.getNode(t,o).value;this.prefabs[0];if(-1!=i){var n=this.createNodeByValue(i);this.node.addChild(n),this.nodes[t][o]=n;var r=this.gameData.getPositionByColumnAndRow(t,o,e.totalDeleteRow);n.setPosition(r);for(var a=Math.ceil(4*Math.random()),s=0;s<a;s++){var h=this.createNodeByValue(i);h.setRotationFromEuler(u(0,60,0)),n.addChild(h),h.setPosition(0,r.y+.25*s,-.1*s)}}else this.nodes[t][o]=null}}for(var l=0;l<this._grid.getNumCols();l++){var d=this.gameData.getSupport()[l][0];this.prefabs[0];if(-1!=d){var c=this.createNodeByValue(d);this.node.addChild(c);var g=this.gameData.getPositionByColumnAndRow(l,this._grid.getNumRows(),e.totalDeleteRow);c.setPosition(g),this.theFakeNodes.push(c)}}},r.getTheMostHitOne=function(t){for(var e=t.x,o=t.z,i=-1,n=-o,r=e,a=o*this.convertFirePoint.x-this.convertFirePoint.z*e,s=Math.sqrt(n*n+r*r),h=120,l=0,d=-1,c=-1,u=0;u<this.nodes.length;u++)for(var g=this.nodes[u],p=0;p<g.length;p++){var m=g[p];if(m&&m.isValid){m||console.log("===========how come=================");var f=m.getPosition(),v=f.x,y=f.z,D=Math.abs(n*v+r*y+a);if((D/=s)<1.5*this.radius){var C=Math.abs(this.convertFirePoint.x-v),b=Math.abs(this.convertFirePoint.z-y),w=Math.sqrt(C*C+b*b);if(w<h){i=this.whichAngleYouHit(t,u,p,D,w);var B=M.getColumnAndRowByDirection(u,p,i),T=-1!=this.gameData.getValueByColumnAndRow(B.x,B.y);if(T&&(i=this.secondCheck(i,u,p,N(t.x,t.z)),B=M.getColumnAndRowByDirection(u,p,i),T=-1!=this.gameData.getValueByColumnAndRow(B.x,B.y)))continue;h=w,l=D,d=u,c=p}}}}if(d>=0&&c>=0){i=this.whichAngleYouHit(t,d,c,l,h);var F=M.getColumnAndRowByDirection(d,c,i),R=-1!=this.gameData.getValueByColumnAndRow(F.x,F.y);R&&(i=this.secondCheck(i,d,c,N(t.x,t.z)),F=M.getColumnAndRowByDirection(d,c,i),R=-1!=this.gameData.getValueByColumnAndRow(F.x,F.y))}return P(h,i,d,c)},r.doTheTouchThing2=function(t,e){var o=this.mainCamera.screenPointToRay(t,e),i=P(0,0,0,0);if(C.instance.raycastClosest(o)){var n=C.instance.raycastClosestResult.hitPoint;n.y=.1;var r=new D,a=new y,s=this.node.getWorldMatrix();y.invert(a,s),D.transformMat4(r,n,a);var h=this.myGap=r.subtract(this.convertFirePoint).normalize();i=this.doTheTouchThing3(h)}return i},r.doTheTouchThing3=function(t){var e=P(0,0,0,0),o=(e=this.getTheMostHitOne(t)).x;return this.createDotLine(t,o),e},r.doTheTouchThing=function(t){var e=t.getLocation();return this.doTheTouchThing2(e.x,e.y)},r.onWindowResize=function(t,o){var i=t;if(t>o){this.mainCamera.fov=45,this.node.setPosition(u(0,0,0)),this.operator.setPosition(u(0,0,0)),Bt=60,this.button.scale=u(.4,.4,.4),this.button.getComponent(b).bottom=30,this.button.getComponent(b).horizontalCenter=146,this.theLogo.scale=u(.45,.45,.45),this.theLogo.getComponent(b).bottom=20,this.theLogo.getComponent(b).horizontalCenter=-160,this.mask.parent.scale=u(.85,.85,.85);var n=this.mask.parent.getPosition().y,r=-t/2/(o/720);this.mask.parent.setPosition(u(r+40,n,0)),this.head.active=!1,this.circle.scale=u(1,1,1),this.convertFirePoint=this.convertFirePoint1.clone(),this.operator.getComponent(E).setWidthOrHeight(1)}else{this.mainCamera.fov=80,this.node.setPosition(u(0,0,-1.9)),this.operator.setPosition(u(0,0,7.8)),Bt=160,this.button.scale=u(.25,.25,.25),this.theLogo.scale=u(.32,.32,.32),this.button.getComponent(b).bottom=35,this.button.getComponent(b).horizontalCenter=60,this.theLogo.getComponent(b).bottom=35,this.theLogo.getComponent(b).horizontalCenter=-80,this.mask.parent.scale=u(.5,.5,.5);var a=this.mask.parent.getPosition().y,s=this.mask.parent.getComponent(f).contentSize.width;s*=this.mask.parent.getScale().x,this.mask.parent.setPosition(u(-s/2,a,0)),this.head.active=!0,this.circle.scale=u(1.5,1.5,1.5),this.convertFirePoint=this.convertFirePoint2.clone(),this.operator.getComponent(E).setWidthOrHeight(2);var h=i/(o/720);this.icon.setPosition(u(-h/2,0,0))}var l=u(0,0,0);this.node.getPosition(l),this.node.setPosition(u(l.x,l.y,l.z+k*e.totalDeleteRow));var d=this.node.getWorldMatrix(),c=new y;y.invert(c,d);var g=u(0,0,0);this.operator.getChildByName("FireBoy").getWorldPosition(g),D.transformMat4(this.convertFirePoint,g,c),console.log(this.convertFirePoint,"====================this.convertFirePoint")},r.start=function(){var t=this;w.on(B.TOUCH_START,(function(e){V.Instance.PlayBgm(),t.canShoot&&(t.isClickOn=!0,t.doTheTouchThing(e))}),this),w.on(B.TOUCH_MOVE,(function(e){if(t.canShoot&&t.isClickOn){var o=t.doTheTouchThing(e);o.z>=0&&console.log(o,"======result是什么")}})),w.on(B.TOUCH_END,(function(e){if(t.canShoot&&t.isClickOn){t.canShoot=!1,t.isClickOn=!1;var o=t.doTheTouchThing(e);V.Instance.pos.play(),t.handleRelease(o),t.recycleDot()}})),this.doTheGuideThing()},r.doTheGuideThing=function(){var t=this;this.canShoot=!1;var e=.653,o=m.windowSize;o.height>o.width&&(e=.353),v(this.theHand).to(.5,{position:u(.253,1.367,13.182)}).to(.7,{position:u(-1.233,1.367,13.182)}).to(.6,{position:u(e,1.367,13.182)}).delay(.5).call((function(){t.canShoot=!0,t.isOnGuide=!1,t.theHand.active=!1;var e=t.node.getWorldMatrix(),o=new y;y.invert(o,e);var i=u(0,0,0);t.operator.getChildByName("FireBoy").getWorldPosition(i),D.transformMat4(t.convertFirePoint,i,o);var n=u(0,0,0);t.operator.getChildByName("theHand").getWorldPosition(n),D.transformMat4(n,n,o);var r=t.myGap=n.subtract(t.convertFirePoint).normalize();(r=r.normalize()).y=0,console.log(r,"========sub是等于多少");var a=t.doTheTouchThing3(r);t.handleRelease(a),t.recycleDot()})).start()},r.printLog=function(t){if(t)for(var e=0;e<this.nodes.length;e++)for(var o=0;o<this.nodes[e].length;o++)this.nodes[e][o];else for(var i=0;i<this.nodes.length;i++)for(var n=0;n<this.nodes[i].length;n++)this.nodes[i][n]},r.handleRelease=function(t){var o=this;if(t.z>=0){var i=t.y,n=t.z,r=t.w,a=M.getColumnAndRowByDirection(n,r,i);a.x<0&&console.log("========hello world"),this.firingNode=this.recreateAFireNode(),this.firingNode.name="FireBoy",this.node.addChild(this.firingNode),this.firingNode.setPosition(this.convertFirePoint);var s=this.gameData.getPositionByColumnAndRow(a.x,a.y,e.totalDeleteRow),h=D.distance(s,this.convertFirePoint)/Bt;v(this.firingNode).to(h,{position:s}).call((function(){o.gameData.insertAFiringNode(a.x,a.y),o.firingNode.removeFromParent(),o.firingNode.destroy(),o.firingNode=null})).start()}else{this.firingNode=this.recreateAFireNode(),this.firingNode.name="FireBoy",this.node.addChild(this.firingNode),this.firingNode.setPosition(this.convertFirePoint);var l=u(this.convertFirePoint.x+40*this.myGap.x,this.convertFirePoint.y,this.convertFirePoint.z+40*this.myGap.z);v(this.firingNode).to(.2,{position:l}).call((function(){o.firingNode.removeFromParent(),o.firingNode.destroy(),o.firingNode=null,o.canShoot=!0,o.changeCircle(),o.printLog(!1)})).start()}},r.recycleDot=function(){for(var t=this.usedDotNodes.length-1;t>=0;t--){var e=this.usedDotNodes[t];this.usedDotNodes.pop(),this.dotNodePool.put(e)}},r.createDotLine=function(t,e){e=Math.ceil((e-this.radius)/wt);var o=this.usedDotNodes.length-e;if(o<0)for(var i=0;i<Math.abs(o);i++){var n=this.getDotNode();this.node.addChild(n),this.usedDotNodes.push(n)}else if(o>0)for(var r=this.usedDotNodes.length-1,a=r;a>r-o;a--){var s=this.usedDotNodes[a];this.usedDotNodes.pop(),this.dotNodePool.put(s)}for(var h=0;h<e;h++){var l=this.usedDotNodes[h];l.getComponent(A).MyColor=this.gameData.getFireColor();var d=u(t.x*h*wt,0,t.z*h*wt),c=u(this.convertFirePoint.x+d.x,this.convertFirePoint.y+d.y,this.convertFirePoint.z+d.z);l.setPosition(c)}},r.update=function(t){if(this.isOnGuide){var e=this.node.getWorldMatrix(),o=new y;y.invert(o,e);var i=u(0,0,0);this.operator.getChildByName("FireBoy").getWorldPosition(i),D.transformMat4(this.convertFirePoint,i,o);var n=u(0,0,0);this.operator.getChildByName("theHand").getWorldPosition(n),D.transformMat4(n,n,o);var r=this.myGap=n.subtract(this.convertFirePoint).normalize();(r=r.normalize()).y=0,this.doTheTouchThing3(r)}},r.getDotNode=function(){if(this.dotNodePool.size()<=0){var t=T(this.dotNode);this.dotNodePool.put(t)}return this.dotNodePool.get()},r.createAFireNode=function(){var t=this.gameData.createAFireNode();return this.createNodeByValue(t)},r.createABackNode=function(){var t=this.gameData.createABackNode();return this.createNodeByValue(t)},r.doBackNode=function(){var t=this.gameData.getBackValue();return this.createNodeByValue(t)},r.recreateAFireNode=function(){var t=this.gameData.getFireValue();return this.createNodeByValue(t)},r.createNodeByValue=function(t){var e=this.prefabs[0];-1==t||-2==t?e=this.prefabs[3]:1==t?e=this.prefabs[0]:2==t?e=this.prefabs[1]:3==t&&(e=this.prefabs[2]);var o=T(e);return-2==t&&(o.active=!1),o},r.whichAngleYouHit=function(t,e,o,i,n){if(i<=this.radius){var r=-1,a=Math.sqrt(this.radius*this.radius-i*i),s=Math.sqrt(n*n-i*i);s-=a;var h=N(this.convertFirePoint.x+t.x*s,this.convertFirePoint.z+t.z*s),l=this.nodes[e][o].getPosition(),d=N(h.x-l.x,h.y-l.z);d=d.normalize();var c=180*Math.atan2(d.y,d.x)/Math.PI;return c<=0&&(c+=360),c>=300||c<=40?r=x.RIGHT:c>=20&&c<=90?r=x.DOWNRIGHT:c>=90&&c<=160?r=x.DOWNLEFT:c>=160&&c<=180?r=x.LEFT:c>=180&&c<=270?r=x.UPLEFT:c>=270&&c<=300&&(r=x.UPRIGHT),r}var u=-1,g=Math.sqrt(n*n-i*i),p=N(this.convertFirePoint.x+t.x*g,this.convertFirePoint.z+t.z*g),m=this.nodes[e][o].getPosition(),f=N(p.x-m.x,p.y-m.z);f=f.normalize();var v=180*Math.atan2(f.y,f.x)/Math.PI;return v<=0&&(v+=360),v>=300||v<=40?u=x.RIGHT:v>=20&&v<=90?u=x.DOWNRIGHT:v>=90&&v<=160?u=x.DOWNLEFT:v>=160&&v<=180?u=x.LEFT:v>=180&&v<=270?u=x.UPLEFT:v>=270&&v<=300&&(u=x.UPRIGHT),u},r.secondCheck=function(t,e,o,i){if(t==x.RIGHT){t=x.DOWNRIGHT;var n=M.getColumnAndRowByDirection(e,o,t),r=-1!=this.gameData.getValueByColumnAndRow(n.x,n.y);r&&(t=x.UPRIGHT,n=M.getColumnAndRowByDirection(e,o,t),r=-1!=this.gameData.getValueByColumnAndRow(n.x,n.y))}else if(t==x.LEFT){t=x.DOWNLEFT;var a=M.getColumnAndRowByDirection(e,o,t),s=-1!=this.gameData.getValueByColumnAndRow(a.x,a.y);s&&(t=x.UPLEFT,a=M.getColumnAndRowByDirection(e,o,t),s=-1!=this.gameData.getValueByColumnAndRow(a.x,a.y))}else if(t==x.DOWNLEFT)if(i.x>0){t=x.LEFT;var h=M.getColumnAndRowByDirection(e,o,t),l=-1!=this.gameData.getValueByColumnAndRow(h.x,h.y);l&&(t=x.DOWNRIGHT,h=M.getColumnAndRowByDirection(e,o,t),l=-1!=this.gameData.getValueByColumnAndRow(h.x,h.y))}else{t=x.DOWNRIGHT;var d=M.getColumnAndRowByDirection(e,o,t),c=-1!=this.gameData.getValueByColumnAndRow(d.x,d.y);c&&(t=x.DOWNRIGHT,d=M.getColumnAndRowByDirection(e,o,t),c=-1!=this.gameData.getValueByColumnAndRow(d.x,d.y))}else if(t==x.DOWNRIGHT)if(i.x>0){t=x.DOWNLEFT;var u=M.getColumnAndRowByDirection(e,o,t),g=-1!=this.gameData.getValueByColumnAndRow(u.x,u.y);g&&(t=x.DOWNLEFT,u=M.getColumnAndRowByDirection(e,o,t),g=-1!=this.gameData.getValueByColumnAndRow(u.x,u.y))}else{t=x.RIGHT;var p=M.getColumnAndRowByDirection(e,o,t),m=-1!=this.gameData.getValueByColumnAndRow(p.x,p.y);m&&(t=x.DOWNLEFT,p=M.getColumnAndRowByDirection(e,o,t),m=-1!=this.gameData.getValueByColumnAndRow(p.x,p.y))}return t},r.checkIsEqual=function(){for(var t=!0,e=this.nodes,o=this.gameData.getInitData(),i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++){if(e[i][n])-1==o[i][n]&&(t=!1);else o[i][n]>=0&&(t=!1)}for(var r=0;r<o.length;r++)for(var a=0;a<o[r].length;a++){var s=o[r][a];if(s>=0)e[r][a]||(t=!1);else e[r][a]&&-2!=s&&(t=!1)}if(t?console.log("是一样"):console.log("不一样"),t){for(var h=!0,l=0;l<o.length;l++)for(var d=0;d<o[l].length;d++){o[l][d]>=0&&(h=!1)}h&&(this.button.active=!1,I.Instance.onShowPage())}},e}(F)).totalDeleteRow=0,at=e((rt=Pt).prototype,"prefabs",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=e(rt.prototype,"mainCamera",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(rt.prototype,"dotNode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(rt.prototype,"fireNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(rt.prototype,"backupNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(rt.prototype,"mask",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(rt.prototype,"pointValue",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(rt.prototype,"theLogo",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(rt.prototype,"theGameMain",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(rt.prototype,"operator",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(rt.prototype,"theHand",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=e(rt.prototype,"head",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(rt.prototype,"button",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=e(rt.prototype,"circle",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=e(rt.prototype,"icon",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=rt))||nt));r._RF.pop()}}}));

System.register("chunks:///_virtual/Grid.ts",["cc","./MyNode.ts"],(function(t){var n,o;return{setters:[function(t){n=t.cclegacy},function(t){o=t.MyNode}],execute:function(){n._RF.push({},"7f1512OMRtOBZX04IkytR77","Grid",void 0);t("Grid",function(){function t(t,n,s){this._startNode=void 0,this._endNode=void 0,this._nodes=[],this._numCols=void 0,this._numRows=void 0,this._numCols=t,this._numRows=n,this._nodes=[];for(var e=0;e<this._numCols;e++){this._nodes[e]=[];for(var i=0;i<this._numRows;i++){var u=s[e][i];null==u&&(u=-1),this._nodes[e][i]=new o(e,i,u)}}}var n=t.prototype;return n.getNode=function(t,n){return t<0||n<0?null:this._nodes[t]?this._nodes[t][n]:null},n.setEndNode=function(t,n){this._endNode=this._nodes[t][n]},n.setStartNode=function(t,n){this._startNode=this._nodes[t][n]},n.setWalkable=function(t,n,o){this._nodes[t][n].walkable=o},n.getEndNode=function(){return this._endNode},n.getNumCols=function(){return this._numCols},n.getNumRows=function(){return this._numRows},n.getStartNode=function(){return this._startNode},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Group.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"fee9fIebJhGlohYVoCV+6XJ","Group",void 0);t("Group",function(){function t(){this.balls=[]}var n=t.prototype;return n.clear=function(){this.balls=[]},n.init=function(){this.balls=[]},n.addBall=function(t){var n=t.clone();this.balls.push(n)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GroupMgr.ts",["cc","./Util.ts"],(function(e){var o,r;return{setters:[function(e){o=e.cclegacy},function(e){r=e.Util}],execute:function(){o._RF.push({},"4b7c3pi8P5Kdr6XisuKbEnA","GroupMgr",void 0);var t=e("SEARCHDIRECTION",function(e){return e[e.UPRIGHT=0]="UPRIGHT",e[e.UPLEFT=1]="UPLEFT",e[e.LEFT=2]="LEFT",e[e.DOWNLEFT=3]="DOWNLEFT",e[e.DOWNRIGHT=4]="DOWNRIGHT",e[e.RIGHT=5]="RIGHT",e}({}));e("GroupMgr",function(){function e(){this.groups=[],this.ballNodesRef=null,this.dealingNodes=[]}var o=e.prototype;return o.devideGroup=function(e,o,r,t){this.ballNodesRef=o;for(var s=0;s<o.length;s++){var i=o[s];-1==i.getGroup()&&i.getColor()>=0&&this.processBallNode(i,-1)}},o.processBallNode=function(e,o){if(-1==o){var s=this.createGroup();e.setGroup(s)}else e.setGroup(o);this.dealingNodes.push(e);for(var i=0;i<=t.RIGHT;i++){var n=e.getRow(),u=e.getColumn(),l=r.getColumnAndRowByDirection(u,n,i),p=r.plainSearchBallNode(l.x,l.y,this.ballNodesRef);if(p){var a=this.isInProcessing(p),g=p.isInGroup(),h=e.getColor()==p.getColor();a||g||!h||this.processBallNode(p,e.getGroup())}}this.dealingNodes.pop()},o.createGroup=function(){if(0==this.groups.length)this.groups.push(1);else{var e=this.groups[this.groups.length-1];e+=1,this.groups.push(e)}return this.groups[this.groups.length-1]},o.isInProcessing=function(e){for(var o=!1,r=0;r<this.processBallNode.length;r++){if(this.processBallNode[r]==e){o=!0;break}}return o},o.getGroupValues=function(){return this.groups},o.findBallNodesInRef=function(e,o){for(var r=null,t=0;t<this.ballNodesRef.length;t++){var s=this.ballNodesRef[t],i=s.getColumn(),n=s.getRow();if(i==e&&n==o){r=s;break}}return r},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/IGameData.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c0951v1vVdCn7LQ1yssNNB1","IGameData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/List.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,e;return{setters:[function(t){n=t.inheritsLoose,i=t.wrapNativeSuper},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d6f5e9IOgxHppzz8ewpk5Yl","List",void 0);t("default",function(t){function i(){var n;return(n=t.call(this)||this).add=function(t){this.push(t)},n.insert=function(t,n){this.splice(t,0,n)},n.remove=function(t){var n=this.indexOf(t);this.removeAt(n)},n.removeAt=function(t){this.splice(t,1)},n.contains=function(t){return this.indexOf(t)>=0},n.count=function(){return this.length},n.clear=function(){this.splice(0)},n.foreach=function(t){this._breaking=!1;for(var n=this.length,i=0;i<n&&!this._breaking;i++)t(this[i])},n._breaking=!1,n.break=function(){this._breaking=!0},n.toArray=function(){var t=[];return this.forEach((function(n){t.push(n)})),t},n.append=function(t){var n=this;t.forEach((function(t){n.push(t)}))},n}return n(i,t),i}(i(Array)));e._RF.pop()}}}));

System.register("chunks:///_virtual/LocationImage.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,n,a,p,o,l,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,p=e._decorator,o=e.SpriteFrame,l=e.Sprite,c=e.Component}],execute:function(){var s,u,m,S,f,h,b,g,d,y,z,w,v,x,F;a._RF.push({},"4b6aaRMJTdFPpGDeBHiPdKE","LocationImage",void 0);var O=p.ccclass,j=p.property;e("LocationImage",(s=O("LocationImage"),u=j(o),m=j(o),S=j(o),f=j(o),h=j(o),b=j(l),s((y=i((d=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),p=0;p<t;p++)a[p]=arguments[p];return i=e.call.apply(e,[this].concat(a))||this,r(i,"enSprite",y,n(i)),r(i,"jpSprite",z,n(i)),r(i,"krSprite",w,n(i)),r(i,"cnSprite",v,n(i)),r(i,"twSprite",x,n(i)),r(i,"mSprite",F,n(i)),i}t(i,e);var a=i.prototype;return a.start=function(){this.mSprite=this.getComponent(l)},a.update=function(e){var i=navigator.language;-1==i.indexOf("zh")&&-1==i.indexOf("ko")&&-1==i.indexOf("ja")?this.mSprite.spriteFrame=this.enSprite:-1!=i.indexOf("zh-CN")?this.mSprite.spriteFrame=this.cnSprite:-1!=i.indexOf("zh-TW")||-1!=i.indexOf("zh-HK")?this.mSprite.spriteFrame=this.twSprite:-1!=i.indexOf("ko")?this.mSprite.spriteFrame=this.krSprite:-1!=i.indexOf("ja")&&(this.mSprite.spriteFrame=this.jpSprite)},i}(c)).prototype,"enSprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(d.prototype,"jpSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(d.prototype,"krSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(d.prototype,"cnSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(d.prototype,"twSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(d.prototype,"mSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=d))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/LocationText.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,r,a,o,l,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,u=e.Component}],execute:function(){var s,b,c,f,p,z,h,S,g,x,m,T,L,y,d,w,O,E,v,D,P,R;a._RF.push({},"2af17SNs11DPqVR8XPwojBV","LocationText",void 0);var C=o.ccclass,F=o.property;e("LocationText",(s=C("LocationText"),b=F(l),s((p=i((f=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,n(i,"enText",p,r(i)),n(i,"enSize",z,r(i)),n(i,"jpText",h,r(i)),n(i,"JaSize",S,r(i)),n(i,"krText",g,r(i)),n(i,"KrSize",x,r(i)),n(i,"cnText",m,r(i)),n(i,"CNSize",T,r(i)),n(i,"DEText",L,r(i)),n(i,"DESize",y,r(i)),n(i,"FRText",d,r(i)),n(i,"FRSize",w,r(i)),n(i,"ESText",O,r(i)),n(i,"ESSize",E,r(i)),n(i,"POText",v,r(i)),n(i,"POSize",D,r(i)),n(i,"twText",P,r(i)),n(i,"mLabel",R,r(i)),i}t(i,e);var a=i.prototype;return a.start=function(){this.mLabel=this.getComponent(l);var e=navigator.language;console.log("Language : "+e)},a.update=function(e){var i=navigator.language;-1==i.indexOf("zh")&&-1==i.indexOf("ko")&&-1==i.indexOf("ja")&&-1==i.indexOf("de")&&-1==i.indexOf("fr")&&-1==i.indexOf("es")&&-1==i.indexOf("pt")?(this.mLabel.string=this.enText.replace(/\$/g,"\n"),-1!=this.enSize&&(this.mLabel.fontSize=this.enSize)):-1!=i.indexOf("zh-CN")?(this.mLabel.string=this.cnText.replace(/\$/g,"\n"),-1!=this.CNSize&&(this.mLabel.fontSize=this.CNSize)):-1!=i.indexOf("zh-TW")||-1!=i.indexOf("zh-HK")?(this.mLabel.string=this.twText.replace(/\$/g,"\n"),-1!=this.CNSize&&(this.mLabel.fontSize=this.CNSize)):-1!=i.indexOf("ko")?(this.mLabel.string=this.krText.replace(/\$/g,"\n"),-1!=this.KrSize&&(this.mLabel.fontSize=this.KrSize)):-1!=i.indexOf("ja")?(this.mLabel.string=this.jpText.replace(/\$/g,"\n"),-1!=this.JaSize&&(this.mLabel.fontSize=this.JaSize)):-1!=i.indexOf("de")?(this.mLabel.string=this.DEText.replace(/\$/g,"\n"),-1!=this.DESize&&(this.mLabel.fontSize=this.DESize)):-1!=i.indexOf("fr")?(this.mLabel.string=this.FRText.replace(/\$/g,"\n"),-1!=this.FRSize&&(this.mLabel.fontSize=this.FRSize)):-1!=i.indexOf("es")?(this.mLabel.string=this.ESText.replace(/\$/g,"\n"),-1!=this.ESSize&&(this.mLabel.fontSize=this.ESSize)):-1!=i.indexOf("pt")&&(this.mLabel.string=this.POText.replace(/\$/g,"\n"),-1!=this.POSize&&(this.mLabel.fontSize=this.POSize))},i}(u)).prototype,"enText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=i(f.prototype,"enSize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),h=i(f.prototype,"jpText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=i(f.prototype,"JaSize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=i(f.prototype,"krText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=i(f.prototype,"KrSize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),m=i(f.prototype,"cnText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=i(f.prototype,"CNSize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),L=i(f.prototype,"DEText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=i(f.prototype,"DESize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),d=i(f.prototype,"FRText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=i(f.prototype,"FRSize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),O=i(f.prototype,"ESText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=i(f.prototype,"ESSize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=i(f.prototype,"POText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=i(f.prototype,"POSize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),P=i(f.prototype,"twText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=i(f.prototype,"mLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=f))||c));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AStar.ts","./Grid.ts","./MyNode.ts","./AudioMgr.ts","./Debug.ts","./MyAudioCpt.ts","./CameraScreenAdaptation.ts","./Dictionary.ts","./List.ts","./Map.ts","./Queue.ts","./Stack.ts","./EventDef.ts","./EventSystem.ts","./FSM.ts","./FullScreenCpt.ts","./GameControl.ts","./LocationImage.ts","./LocationText.ts","./GameMain.ts","./GameMain3D.ts","./TailPage.ts","./AppNotify.ts","./BallNode.ts","./GameData.ts","./Group.ts","./GroupMgr.ts","./IGameData.ts","./Util.ts","./DropingNode.ts","./OpacityLind3D.ts","./OperateNode.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Map.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,r;return{setters:[function(t){n=t.inheritsLoose,i=t.wrapNativeSuper},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"d6af3bb+rtOw6TcJO/JFC8S","Map",void 0);t("default",function(t){function i(){var n;return(n=t.call(this)||this).add=function(t,n){this[t]=n},n.remove=function(t){this.containsKey(t)&&delete this[t]},n.get=function(t){return this.containsKey(t)?this[t]:null},n.set=function(t,n){this[t]=n},n.keys=function(){var t=[];for(var n in this)this.hasOwnProperty(n)&&t.push(n);return t},n.values=function(){var t=[];for(var n in this)this.hasOwnProperty(n)&&t.push(this[n]);return t},n.containsKey=function(t){return this.hasOwnProperty(t)},n.containsValue=function(t){for(var n in this)if(this.hasOwnProperty(n)&&this[n]==t)return!0;return!1},n.count=function(){var t=0;for(var n in this)this.hasOwnProperty(n)&&t++;return t},n.clear=function(){for(var t in this)this.hasOwnProperty(t)&&delete this[t]},n.forEach=function(t){this.foreach(t)},n.foreach=function(t){for(var n in this._breaking=!1,this){if(this._breaking)break;if(this.hasOwnProperty(n))"function"!=typeof this[n]&&"_breaking"!=n&&t(n,this[n])}},n._breaking=!1,n.break=function(){this._breaking=!0},n}return n(i,t),i}(i(Object)));r._RF.pop()}}}));

System.register("chunks:///_virtual/MyAudioCpt.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,e,n,r,u,a,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,a=t.AudioSource,s=t.Component}],execute:function(){var c,l,p,h;r._RF.push({},"90611KkBhVFlr9BAcvcooN8","MyAudioCpt",void 0);var y=u.ccclass,d=u.property;t("MyAudioCpt",y("MyAudioCpt")(((h=function(t){function i(){for(var i,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return i=t.call.apply(t,[this].concat(r))||this,e(i,"audioVul",p,n(i)),i.as=void 0,i}o(i,t);var r=i.prototype;return r.start=function(){this.as=this.getComponent(a),this.as.playOneShot(this.as.clip,0)},r.play=function(){i.mute||this.as.play()},r.setLoop=function(t){this.as.loop=t},r.update=function(t){i.mute?this.as.volume=0:this.as.volume=this.audioVul},i}(s)).mute=!0,p=i((l=h).prototype,"audioVul",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),c=l))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/MyNode.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"7f00fNy31ZE5qThHOKEePHw","MyNode",void 0);i("MyNode",(function(i,t,e){this.value=void 0,this.x=void 0,this.y=void 0,this.f=void 0,this.g=void 0,this.h=void 0,this.walkable=!0,this.parent=void 0,this.x=i,this.y=t,this.value=e,this.value<0&&(this.walkable=!1),-2==this.value&&(this.walkable=!0)}));t._RF.pop()}}}));

System.register("chunks:///_virtual/OpacityLind3D.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,a,s,c,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,s=t._decorator,c=t.MeshRenderer,l=t.Material,h=t.Component,p=t.color}],execute:function(){var u,d,m,f;a._RF.push({},"dac06RwhoVL2oBcstW5RopB","OpacityLind3D",void 0);var y=s.ccclass,g=s.property;t("OpacityLind3D",y("OpacityLind3D")((m=e((d=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"colorlind",m,o(e)),i(e,"isSharedMode",f,o(e)),e.matInstances=[],e.mainColors=[],e}n(e,t);var a=e.prototype;return a.onLoad=function(){this.node||console.log("=======hhhh");var t=this.node.getComponent(c),e=t.materials;if(0==this.isSharedMode)for(var n=0;n<e.length;n++)this.matInstances[n]=new l,this.matInstances[n].copy(e[n]),t.setMaterial(this.matInstances[n],n),this.mainColors[n]=this.matInstances[n].getProperty("mainColor"),this.colorlind=this.mainColors[n];else this.matInstances=e},a.start=function(){},a.update=function(t){},r(e,[{key:"MyColor",get:function(){return this.colorlind},set:function(t){this.colorlind=t;for(var e=0;e<this.matInstances.length;e++)this.mainColors[e]=t,this.matInstances[e].setProperty("mainColor",this.mainColors[e])}}]),e}(h)).prototype,"colorlind",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p(0,0,0,0)}}),f=e(d.prototype,"isSharedMode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=d))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/OperateNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,s,o,r;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,s=i._decorator,o=i.v3,r=i.Component}],execute:function(){var n;e._RF.push({},"e4074OTbtpLzKWF0+uWfnIU","OperateNode",void 0);var a=s.ccclass;s.property,i("OperateNode",a("OperateNode")(n=function(i){function e(){for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(t=i.call.apply(i,[this].concat(s))||this).fireNode=void 0,t.backNode=void 0,t.center=void 0,t.totalTime=.2,t.startDoing=!1,t.radius1=2.223,t.radius=2.223,t.radius2=3.3345,t.currentTime=0,t.backPosition1=o(2.223,.1,20),t.backPosition=o(2.223,.1,20),t.backPosition2=o(3.3345,.1,20),t.firePosition=o(0,.1,17.777),t.firePosition2=o(0,.1,16.4),t.firePosition1=o(0,.1,17.777),t.backTotal=3*Math.PI/2,t.fireTotal=Math.PI/2,t}t(e,i);var s=e.prototype;return s.start=function(){console.log("============onstart==================="),this.center=o(0,.1,20)},s.onLoad=function(){},s.setWidthOrHeight=function(i){console.log("=============onset width orheight"),1==i?(this.radius=this.radius1,this.backPosition=this.backPosition1,this.firePosition=this.firePosition1):(this.radius=this.radius2,this.backPosition=this.backPosition2,this.firePosition=this.firePosition2),this.backNode.setPosition(this.backPosition),this.backNode.setScale(o(1,1,1)),this.fireNode.setPosition(this.firePosition),this.fireNode.setScale(o(1.3,1.3,1.3))},s.setFireNode=function(i){this.fireNode=i,this.fireNode.name="FireBoy"},s.setBackNode=function(i){this.backNode=i},s.doCircleThing=function(){this.startDoing=!0},s.update=function(i){if(this.startDoing)if(this.currentTime+=i,this.currentTime>=this.totalTime)this.backNode.setPosition(this.backPosition),this.backNode.setScale(o(1,1,1)),this.fireNode.setPosition(this.firePosition),this.fireNode.setScale(o(1.3,1.3,1.3)),this.startDoing=!1,this.currentTime=0;else{var t=3*Math.PI/2-this.currentTime/this.totalTime*this.backTotal,e=this.radius*Math.cos(t),s=this.radius*Math.sin(t);this.backNode.setPosition(o(this.center.x+e,this.center.y,this.center.z+s));var r=this.currentTime/this.totalTime*.3;this.backNode.setScale(o(1.3-r,1.3-r,1.3-r)),t=0-this.currentTime/this.totalTime*this.fireTotal,e=this.radius*Math.cos(t),s=this.radius*Math.sin(t),this.fireNode.setPosition(o(this.center.x+e,this.center.y,this.center.z+s)),this.fireNode.setScale(o(1+r,1+r,1+r))}},e}(r))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/Queue.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"64c98lYqbVMnaIGJbJPcqRw","Queue",void 0);e("Queue",function(){function e(e){this.elements=void 0,this._size=void 0,this.elements=new Array,this._size=e}var t=e.prototype;return t.push=function(e){return null!=e&&(null==this._size||isNaN(this._size)||this.elements.length==this._size&&this.pop(),this.elements.unshift(e),!0)},t.pop=function(){return this.elements.pop()},t.size=function(){return this.elements.length},t.empty=function(){return 0==this.size()},t.clear=function(){delete this.elements,this.elements=new Array},t.get=function(e){return e>this.elements.length-1?null:this.elements[this.elements.length-1-e]},t.GetLast=function(){return this.elements.length>0?this.elements[0]:null},t.ForEach=function(e){this.elements.forEach((function(t){e(t)}))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Stack.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"13284rxGYtEA4Re3ojCWYQQ","Stack",void 0);e("Stack",function(){function e(e){void 0===e&&(e=10),this.elements=void 0,this._size=void 0,this.elements=new Array(e),this._size=0}var t=e.prototype;return t.push=function(e){var t=this.elements.length;if(this._size>=t){var i=new Array(t);this.elements=this.elements.concat(i)}this.elements[this._size++]=e},t.pop=function(){return this.elements[--this._size]},t.peek=function(){return this.elements[this._size-1]},t.size=function(){return this._size},t.empty=function(){return 0===this._size},t.clear=function(e){void 0===e&&(e=10),delete this.elements,this.elements=new Array(e),this._size=0},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/TailPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameControl.ts"],(function(n){var o,t,i,e,c,r;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator,e=n.screen,c=n.Component},function(n){r=n.GameControl}],execute:function(){var s,a;t._RF.push({},"49a91OPXGJJIL++93sCs6RP","TailPage",void 0);var l=i.ccclass;i.property,n("TailPage",l("TailPage")(((a=function(n){function t(){for(var o,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(o=n.call.apply(n,[this].concat(i))||this).totalNum=50,o.currentNum=0,o.widthForWidth=700,o.widthForHeight=500,o.isWidthOrHeight=!0,o}o(t,n);var i=t.prototype;return i.start=function(){t.Instance=this,this.node.active=!1,e.on("window-resize",this.onWindowResize.bind(this),this),console.log(e.windowSize);var n=e.windowSize;this.onWindowResize(n.width,n.height)},i.onWindowResize=function(n,o){},i.onShowPage=function(){this.node.active=!0},i.plusAdd=function(){},i.clickDown=function(){console.log("click download version"),r.DownloadClick()},i.update=function(n){},t}(c)).Instance=null,s=a))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/Util.ts",["cc","./GroupMgr.ts","./GameMain3D.ts"],(function(n){var t,e,i,o;return{setters:[function(n){t=n.cclegacy,e=n.v2},function(n){i=n.SEARCHDIRECTION},function(n){o=n.GameMain3D}],execute:function(){t._RF.push({},"e725e8Ux31GRLQ92NImO3DE","Util",void 0);n("Util",function(){function n(){}return n.getColumnAndRowByDirection=function(n,t,u){var r=-1,c=-1;return(t+o.totalDeleteRow)%2==0?u==i.UPRIGHT?(r=t+1,c=n):u==i.UPLEFT?(r=t+1,c=n-1):u==i.LEFT?(r=t,c=n-1):u==i.DOWNLEFT?(r=t-1,c=n-1):u==i.DOWNRIGHT?(r=t-1,c=n):u==i.RIGHT&&(r=t,c=n+1):u==i.UPRIGHT?(r=t+1,c=n+1):u==i.UPLEFT?(r=t+1,c=n):u==i.LEFT?(r=t,c=n-1):u==i.DOWNLEFT?(r=t-1,c=n):u==i.DOWNRIGHT?(r=t-1,c=n+1):u==i.RIGHT&&(r=t,c=n+1),e(c,r)},n.plainSearchBallNode=function(n,t,e){for(var i=null,o=0;o<e.length;o++){var u=e[o],r=u.getColumn(),c=u.getRow();if(r==n&&c==t){i=u;break}}return i},n.whichAngleYouHit=function(){},n}());t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});